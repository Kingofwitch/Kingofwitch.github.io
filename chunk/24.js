(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"430":function(e,t,n){"use strict";n.d(t,"b",(function(){return escapeUndefinedOrNull})),n.d(t,"c",(function(){return objSplit})),n.d(t,"a",(function(){return arrToObjFilter})),n.d(t,"d",(function(){return o}));var a=n(143),i=n(9);function escapeUndefinedOrNull(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["undefined","null"],n=t.includes("undefined"),a=t.includes("null");return Object.keys(e||{}).reduce((function(r,c){var o=e[c];return Array.isArray(t)&&(n&&void 0===o||a&&!o&&void 0!==o&&0!=o)?r:Object.assign(r,Object(i.a)({},c,o))}),{})}function objSplit(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return _.groupBy(Object.keys(e).map((function(n){var i=n.split(t),r=Object(a.a)(i),c=r[0],o=r[1];r.slice(2);return{"preKey":c,"key":o,"value":e[n]}})),"preKey")}function arrToObjFilter(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return e;var a=Object.keys(t||{});return e.filter((function(e){return a.every((function(a){return r((_.get(t,a)||"").includes(_.get(e,a)),n)}))}))}var r=function reverseSure(e,t){return t?!e:e},c={"input":2,"select":3,"date":4,"number":5,"switch":6},o=function pcFormConfigTrans(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return{"alias":e.label,"attributeCode":e.key,"attributeName":e.key,"attributeContent":e.dataSource||"","attribute":c[e.type]||2,"isCheck":e.required?0:1,"disabled":e.disabled,"check":"1"}}))}},"431":function(e,t,n){"use strict";var a,i=n(439),r=n(200),c=n(197),o=n(64);!function(e){e.APP_KEY="appKey",e.USER_INFO="userInfo"}(a||(a={}));var s={"cache":{},"setStorage":function setStorage(e,t){return s.cache[e]=t,Object(o.o)({"key":e,"data":t})},"getStorage":function getStorage(e){return Object(o.f)({"key":e})},"setStoreageSync":function setStoreageSync(e,t){return s.cache[e]=t,Object(o.p)(e,t)},"getStoreageSync":function getStoreageSync(e){return s.cache[e]||(s.cache[e]=Object(o.i)(e)),s.cache[e]},"removeStorageSync":function removeStorageSync(e){return s.cache[e]=void 0,Object(o.l)(e)}},l=n(430),u=n(7),d=n(138),b=["status","statusText","instatus"];Object(r.a)((function interceptor(e){var t=e.requestParams,n=t.method,a=t.data,i=t.url,r=t.showToast,o=void 0===r||r;return console.log("请求参数：http ".concat(n||"GET"," --\x3e ").concat(i," data: "),a,t),e.proceed(t).then((function(e){console.log("res",e);var t=e.data,n=t.status,a=t.resultCode,i=t.message,r=t.exceptionMessage;return console.log(111,n,a,i,r),"success"==n?e.data:Promise.reject({"statusText":r||i||"失败","instatus":a||""})})).catch((function(e){var t=e||{},n=t.status,a=void 0===n?"200":n,i=t.statusText,r=void 0===i?"":i,s=t.instatus,l=void 0===s?"default":s,f=Object(d.a)(t,b);switch(o&&Object(c.h)({"title":r,"icon":"none","duration":2e3}),a){case"200":switch(l){case"value":break;default:return Promise.reject(Object(u.a)({"status":a,"statusText":r,"instatus":l},f))}break;default:return console.log("err",Object(u.a)({"status":a,"statusText":r,"instatus":l},f)),Promise.reject(Object(u.a)({"status":a,"statusText":r,"instatus":l},f))}}))}));var f=function publicBasicsHttp(e){var t=e.url,n=e.data,i=e.method,u=e.showLoading;return new Promise((function(e,d){var b={};b.data=Object(l.b)(n),b.method=i||"GET",b.url="".concat(function getServerHost(){return Object(o.i)("app_server_host")||"https://mock.apifox.cn/m1/1507578-0-default/"}()).concat(t,".do"),b.mode="cors",b.credentials="include";var f=s.getStoreageSync(a.APP_KEY);f&&Object.assign(b.header,{"Appkey":f}),u&&Object(c.f)(),Object(r.b)(b).then((function(t){u&&Object(c.c)(),console.log("httpBase",t),e(t)})).catch((function(e){u&&Object(c.c)(),console.log("err",e),200==e.status&&d(e)}))}))};t.a={"get":Object(i.b)((function(e,t){return f({"url":e,"data":t,"method":"GET"})})),"post":Object(i.b)((function(e,t){return f({"url":e,"data":t,"method":"POST"})}))}},"435":function(e,t,n){"use strict";n(455);var a=n(456),i=n(7),r=(n(457),n(458)),c=n(15),o=n(2),s=n(18);t.a=function BlockWithTitle(e){var t=Object(o.useState)("1"),n=Object(c.a)(t,2),l=n[0],u=n[1],d=e.children,b=e.label,f=e.labelStyle,j=void 0===f?{}:f,p=e.colapseDisabled,m=void 0===p||p,O=e.collapseProps,h=void 0===O?{}:O,g=Object(o.useCallback)((function(e){m||u(e.detail)}),[u,m]);return Object(s.jsx)(a.a,Object(i.a)(Object(i.a)({"className":"collapse-no-style","accordion":!0,"value":l,"onChange":g},h),{},{"children":Object(s.jsx)(r.a,Object(i.a)(Object(i.a)({"className":["collapse-item-no-style",b?"":"collapse-item-no-label",m?"collapse-item-no-icon":""].join(" "),"title":b,"clickable":m,"name":"1"},j),{},{"children":d}))}))}},"652":function(e,t,n){},"659":function(e,t,n){"use strict";n(455);var a=n(456),i=(n(457),n(458)),r=(n(207),n(652),n(80)),c=n.n(r),o=n(54),s=n.n(o),l=n(44),u=n.n(l),d=n(55),b=n.n(d),f=n(38),j=n.n(f),p=n(56),m=n.n(p),O=n(81),h=n.n(O),g=n(82),v=n.n(g),y=n(83),k=n.n(y),x=n(84),C=n.n(x),S=n(37),w=n(65),T=n(18),L=["inset","title","border","children","style","className"];function ownKeys(e,t){var n=c()(e);if(s.a){var a=s()(e);t&&(a=u()(a).call(a,(function(t){return b()(e,t).enumerable}))),n.push.apply(n,a)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n,a,i=null!=arguments[t]?arguments[t]:{};t%2?j()(n=ownKeys(Object(i),!0)).call(n,(function(t){k()(e,t,i[t])})):m.a?h()(e,m()(i)):j()(a=ownKeys(Object(i))).call(a,(function(t){v()(e,t,b()(i,t))}))}return e}var N=function CellGroup(e){var t=e.inset,n=e.title,a=e.border,i=void 0===a||a,r=e.children,c=e.style,o=e.className,s=C()(e,L);return Object(T.jsxs)(T.Fragment,{"children":[n&&Object(T.jsx)(S.View,{"className":w.b("cell-group__title",{"inset":t}),"children":n}),Object(T.jsx)(S.View,_objectSpread(_objectSpread({"className":" "+w.b("cell-group",{"inset":t})+" "+(i?"van-hairline--top-bottom":"")+" ".concat(o||""),"style":c},s),{},{"children":r}))]})},I=n(7),P=(n(209),n(210),n(459),n(487)),M=n(15),_=n(2);t.a=function ListWithTitle(e){var t=Object(_.useState)("1"),n=Object(M.a)(t,2),r=n[0],c=n[1],o=e.dataSource,s=void 0===o?[]:o,l=e.label,u=e.titleStyle,d=void 0===u?{}:u,b=e.groupProps,f=void 0===b?{}:b,j=e.cellProps,p=void 0===j?{}:j,m=e.colapseDisabled,O=void 0===m||m,h=e.collapseProps,g=void 0===h?{}:h,v=Object(_.useCallback)((function(e){O||c(e.detail)}),[c,O]);return Object(T.jsx)(a.a,Object(I.a)(Object(I.a)({"className":"collapse-no-style","accordion":!0,"value":r,"onChange":v},g),{},{"children":Object(T.jsx)(i.a,Object(I.a)(Object(I.a)({"className":["collapse-item-no-style",l?"":"collapse-item-no-label",O?"collapse-item-no-icon":""].join(" "),"title":l,"clickable":O,"name":"1"},d),{},{"children":Object(T.jsx)(N,Object(I.a)(Object(I.a)({"inset":!0},f),{},{"children":s.map((function(t,n){return Object(T.jsx)(P.b,Object(I.a)(Object(I.a)(Object(I.a)({"isLink":!0},p),t),{},{"onClick":function onClick(){return e.onClick&&e.onClick(t)}}),t.key||n)}))}))}))}))}},"737":function(e,t,n){"use strict";var a=n(7),i=n(138),r=(n(738),n(18)),c=["dataSource"];t.a=function BlockLine(e){var t=e.dataSource,n=void 0===t?[]:t,o=Object(i.a)(e,c);return Object(r.jsx)("div",Object(a.a)(Object(a.a)({"className":"bkline"},o),{},{"children":n.map((function(t,n){return Object(r.jsxs)("div",{"className":"bkline-item","onClick":function onClick(){return e.onClick&&e.onClick(t,n)},"children":[Object(r.jsx)("div",{"className":"bkline-item-top","children":t.value}),Object(r.jsx)("div",{"className":"bkline-item-btm","children":t.title})]},t.key||n)}))}))}},"738":function(e,t,n){e.exports={"themeColor":"#2DC09B","themeTextColor":"#00A6A7","backgroundColor":"#F2F4F6","textColor":"rgba(0, 0, 0, 0.9)","btnBackgroundColor":"#F6F6F7","textColorDesc":"rgba(0, 0, 0, 0.3)","textColorSub":"rgba(37, 43, 52, 0.5)","textColorErr":"#FB5151"}},"844":function(e,t,n){e.exports={"themeColor":"#2DC09B","themeTextColor":"#00A6A7","backgroundColor":"#F2F4F6","textColor":"rgba(0, 0, 0, 0.9)","btnBackgroundColor":"#F6F6F7","textColorDesc":"rgba(0, 0, 0, 0.3)","textColorSub":"rgba(37, 43, 52, 0.5)","textColorErr":"#FB5151"}},"929":function(e,t,n){"use strict";n.r(t);var a,i,r,c,o,s,l,u,d,b,f,j=n(7),p=n(138),m=n(2),O=n.n(m),h=n(29),g=n(142),v=n(34),y=n(141),k=n(659),x=n(435),C=n(737),S=n(18),w=[{"label":"办理入职","icon":"https://img.dianplus.cn/vpc/1/976477741010391041/办理入职-2x_23.png","key":"induction","url":"/pages/staff/inductionLists/inductionLists"},{"label":"办理离职","icon":"https://img.dianplus.cn/vpc/1/976477741010391041/办理离职-2x_58.png","key":"quit","url":"/pages/staff/dimissionLists/dimissionLists"},{"label":"办理转正","icon":"https://img.dianplus.cn/vpc/1/976477741010391041/办理转正-2x_43.png","key":"formal","url":"/pages/staff/formalLists/formalLists"}],T=[{"title":"待入职","render":function render(e){return e>0?Object(S.jsx)("div",{"style":{"color":"#E72520","display":"inline"},"children":e}):e},"key":"waitInduction","numKey":"inducationNum"},{"title":"待离职","render":function render(e){return e>0?Object(S.jsx)("div",{"style":{"color":"#E72520","display":"inline"},"children":e}):e},"key":"waitDimission","numKey":"dimissionNum"}],L=[{"title":"在职员工","render":function render(e){return e},"key":"onTheJob"},{"title":"全职","render":function render(e){return e},"key":"fullTime"},{"title":"兼职","render":function render(e){return e},"key":"partTimeJob"},{"title":"实习","render":function render(e){return e},"key":"internship"}],N=n(57),I=n(4),P=n(3),M=n(9),_=n(58),B=(n(140),n(8)),F=n(431),A=function getPersonnelList(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return F.a.get("/rs/corp/hr/get_personnel_list",e)},z=function getEmployeeProfile(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return F.a.get("/rs/corp/hr/get_employee_profile",e)},E=(a=Object(I.a)((function MindListsBaseModel(){Object(P.a)(this,MindListsBaseModel),Object(N.a)(this,"personnelList",i,this),Object(N.a)(this,"getMindLists",r,this)})),i=Object(_.a)(a.prototype,"personnelList",[B.m],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return{}}}),r=Object(_.a)(a.prototype,"getMindLists",[B.f],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){var e=this;return function(){A().then((function(t){e.personnelList=t.resultObject||{}}))}}}),a),K=(c=Object(I.a)((function StaffInfoBaseModel(){Object(P.a)(this,StaffInfoBaseModel),Object(N.a)(this,"employeeProfile",o,this),Object(N.a)(this,"getStaffInfos",s,this)})),o=Object(_.a)(c.prototype,"employeeProfile",[B.m],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return{}}}),s=Object(_.a)(c.prototype,"getStaffInfos",[B.f],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){var e=this;return function(){z().then((function(t){e.employeeProfile=t.resultObject||{}}))}}}),c),D=(l=Object(I.a)((function AttendanceInfoBaseModel(){Object(P.a)(this,AttendanceInfoBaseModel),Object(N.a)(this,"attendanceInfo",u,this),Object(N.a)(this,"getAttendanceInfo",d,this)})),u=Object(_.a)(l.prototype,"attendanceInfo",[B.m],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return[]}}),d=Object(_.a)(l.prototype,"getAttendanceInfo",[B.f],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){var e=this;return function(){e.attendanceInfo=[{"title":"实际出勤","value":99,"key":"onTheJob"},{"title":"迟到","value":98,"key":"fullTime"},{"title":"早退","value":0,"key":"partTimeJob"},{"title":"缺卡","value":10,"key":"internship"}]}}}),l),G=(b=Object(I.a)((function BaseModel(){Object(P.a)(this,BaseModel),Object(N.a)(this,"name",f,this),Object(M.a)(this,"mindModel",new E),Object(M.a)(this,"staffInfoModel",new K),Object(M.a)(this,"attendanceInfoModel",new D)})),f=Object(_.a)(b.prototype,"name",[B.m],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return""}}),b),J=(n(844),["render"]),R=["render"];t.default=O.a.memo(Object(g.d)((function MamageIndexPage(){var e=Object(h.d)((function(){return new G})),t=e.mindModel,n=e.staffInfoModel,a=e.attendanceInfoModel;Object(m.useEffect)((function(){t.getMindLists(),n.getStaffInfos(),a.getAttendanceInfo()}),[]);var i=Object(m.useCallback)((function(e){switch(e.key){case"waitInduction":y.Router.navigate({"url":"/pages/staff/inductionLists/inductionLists"});break;case"waitDimission":y.Router.navigate({"url":"/pages/staff/dimissionLists/dimissionLists"});break;case"staffList":y.Router.navigate({"url":"/pages/staff/stafflist/index"});break;case"todayAttend":y.Router.navigate({"url":"/pages/attendance/statistic/index"},{"params":{"tabIndex":1}})}}),[]),r=Object(m.useCallback)((function(e){e.url&&y.Router.navigate({"url":e.url}),console.log("staff",e)}),[]),c=Object(m.useMemo)((function(){return T.map((function(e){var n=e.render,a=Object(p.a)(e,J);return Object(j.a)(Object(j.a)({},a),{},{"children":n(t.personnelList[a.numKey]||0)})}))}),[t.personnelList]),o=Object(m.useMemo)((function(){return L.map((function(e){var t=e.render,a=Object(p.a)(e,R);return Object(j.a)(Object(j.a)({},a),{},{"value":t(n.employeeProfile[a.key]||0)})}))}),[n.employeeProfile]);return Object(S.jsxs)("div",{"className":"manage-index home-index","children":[Object(S.jsx)("div",{"className":"manage-pad","children":Object(S.jsx)("div",{"className":"manage-tools","children":w.map((function(e){return Object(S.jsxs)("div",{"className":"manage-tools-item item-tap","onClick":function onClick(){return r(e)},"children":[Object(S.jsx)("img",{"className":"manage-tools-item-icon","src":e.icon}),Object(S.jsx)("div",{"className":"manage-tools-item-label","children":e.label})]},e.key)}))})}),Object(S.jsx)(k.a,{"dataSource":c,"label":"待办事项","onClick":function onClick(e){return i(e)}}),Object(S.jsx)(x.a,{"label":"人事概况","collapseProps":{"style":{"paddingTop":v.default.pxTransform(20)}},"children":Object(S.jsx)("div",{"className":"manage-card","onClick":function onClick(){return i({"key":"staffList"})},"children":Object(S.jsx)(C.a,{"dataSource":o,"style":{"backGround":"#fff"}})})}),Object(S.jsx)(x.a,{"label":"今日考勤","collapseProps":{"style":{"paddingTop":v.default.pxTransform(20)}},"children":Object(S.jsx)("div",{"className":"manage-card","onClick":function onClick(){return i({"key":"todayAttend"})},"children":Object(S.jsx)(C.a,{"dataSource":a.attendanceInfo,"style":{"backGround":"#fff"}})})})]})})))}}]);