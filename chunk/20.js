(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"429":function(e,t,r){e.exports=r(641)},"430":function(e,t,r){"use strict";r.d(t,"b",(function(){return escapeUndefinedOrNull})),r.d(t,"c",(function(){return objSplit})),r.d(t,"a",(function(){return arrToObjFilter})),r.d(t,"d",(function(){return l}));var a=r(144),n=r(9);function escapeUndefinedOrNull(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["undefined","null"],r=t.includes("undefined"),a=t.includes("null");return Object.keys(e||{}).reduce((function(c,o){var l=e[o];return Array.isArray(t)&&(r&&void 0===l||a&&!l&&void 0!==l&&0!=l)?c:Object.assign(c,Object(n.a)({},o,l))}),{})}function objSplit(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return _.groupBy(Object.keys(e).map((function(r){var n=r.split(t),c=Object(a.a)(n),o=c[0],l=c[1];c.slice(2);return{"preKey":o,"key":l,"value":e[r]}})),"preKey")}function arrToObjFilter(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return e;var a=Object.keys(t||{});return e.filter((function(e){return a.every((function(a){return c((_.get(t,a)||"").includes(_.get(e,a)),r)}))}))}var c=function reverseSure(e,t){return t?!e:e},o={"input":2,"select":3,"date":4,"number":5,"switch":6},l=function pcFormConfigTrans(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return{"alias":e.label,"attributeCode":e.key,"attributeName":e.key,"attributeContent":e.dataSource||"","attribute":o[e.type]||2,"isCheck":e.required?0:1,"disabled":e.disabled,"check":"1"}}))}},"431":function(e,t,r){"use strict";var a,n=r(446),c=r(200),o=r(197),l=r(64);!function(e){e.APP_KEY="appKey",e.USER_INFO="userInfo"}(a||(a={}));var s={"cache":{},"setStorage":function setStorage(e,t){return s.cache[e]=t,Object(l.o)({"key":e,"data":t})},"getStorage":function getStorage(e){return Object(l.f)({"key":e})},"setStoreageSync":function setStoreageSync(e,t){return s.cache[e]=t,Object(l.p)(e,t)},"getStoreageSync":function getStoreageSync(e){return s.cache[e]||(s.cache[e]=Object(l.i)(e)),s.cache[e]},"removeStorageSync":function removeStorageSync(e){return s.cache[e]=void 0,Object(l.l)(e)}},i=r(430),u=r(7),d=r(138),b=["status","statusText","instatus"];Object(c.a)((function interceptor(e){var t=e.requestParams,r=t.method,a=t.data,n=t.url,c=t.showToast,l=void 0===c||c;return console.log("请求参数：http ".concat(r||"GET"," --\x3e ").concat(n," data: "),a,t),e.proceed(t).then((function(e){console.log("res",e);var t=e.data,r=t.status,a=t.resultCode,n=t.message,c=t.exceptionMessage;return console.log(111,r,a,n,c),"success"==r?e.data:Promise.reject({"statusText":c||n||"失败","instatus":a||""})})).catch((function(e){var t=e||{},r=t.status,a=void 0===r?"200":r,n=t.statusText,c=void 0===n?"":n,s=t.instatus,i=void 0===s?"default":s,f=Object(d.a)(t,b);switch(l&&Object(o.h)({"title":c,"icon":"none","duration":2e3}),a){case"200":switch(i){case"value":break;default:return Promise.reject(Object(u.a)({"status":a,"statusText":c,"instatus":i},f))}break;default:return console.log("err",Object(u.a)({"status":a,"statusText":c,"instatus":i},f)),Promise.reject(Object(u.a)({"status":a,"statusText":c,"instatus":i},f))}}))}));var f=function publicBasicsHttp(e){var t=e.url,r=e.data,n=e.method,u=e.showLoading;return new Promise((function(e,d){var b={};b.data=Object(i.b)(r),b.method=n||"GET",b.url="".concat(function getServerHost(){return Object(l.i)("app_server_host")||"https://mock.apifox.cn/m1/1507578-0-default/"}()).concat(t,".do"),b.mode="cors",b.credentials="include";var f=s.getStoreageSync(a.APP_KEY);f&&Object.assign(b.header,{"Appkey":f}),u&&Object(o.f)(),Object(c.b)(b).then((function(t){u&&Object(o.c)(),console.log("httpBase",t),e(t)})).catch((function(e){u&&Object(o.c)(),console.log("err",e),200==e.status&&d(e)}))}))};t.a={"get":Object(n.b)((function(e,t){return f({"url":e,"data":t,"method":"GET"})})),"post":Object(n.b)((function(e,t){return f({"url":e,"data":t,"method":"POST"})}))}},"458":function(e,t,r){},"487":function(e,t,r){"use strict";r.d(t,"a",(function(){return Cell}));var a=r(80),n=r.n(a),c=r(54),o=r.n(c),l=r(44),s=r.n(l),i=r(55),u=r.n(i),d=r(38),b=r.n(d),f=r(56),j=r.n(f),h=r(81),g=r.n(h),v=r(82),O=r.n(v),p=r(83),m=r.n(p),x=r(84),y=r.n(x),k=r(2),C=r(37),S=r(65),w=r(14);var N=r(139),_=r(68),F=r(85);var T=r(18),P=["url","linkType","size","center","required","border","isLink","clickable","icon","titleWidth","titleStyle","title","label","value","arrowDirection","onClick","renderIcon","renderTitle","renderLabel","renderRightIcon","renderExtra","children","style","className"];function ownKeys(e,t){var r=n()(e);if(o.a){var a=o()(e);t&&(a=s()(a).call(a,(function(t){return u()(e,t).enumerable}))),r.push.apply(r,a)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r,a,n=null!=arguments[t]?arguments[t]:{};t%2?b()(r=ownKeys(Object(n),!0)).call(r,(function(t){m()(e,t,n[t])})):j.a?g()(e,j()(n)):b()(a=ownKeys(Object(n))).call(a,(function(t){O()(e,t,u()(n,t))}))}return e}function Cell(e){var t,r=e.url,a=e.linkType,n=e.size,c=e.center,o=e.required,l=e.border,s=void 0===l||l,i=e.isLink,u=e.clickable,d=e.icon,b=e.titleWidth,f=e.titleStyle,j=e.title,h=e.label,g=e.value,v=e.arrowDirection,O=e.onClick,p=e.renderIcon,m=e.renderTitle,x=e.renderLabel,R=e.renderRightIcon,L=e.renderExtra,K=e.children,I=e.style,A=e.className,B=y()(e,P),E=Object(k.useCallback)((function(e){null==O||O(e),r&&function jumpLink(e,t){var r;if(t=null!==(r=t)&&void 0!==r?r:"navigateTo",e)if("navigateTo"===t&&Object(w.b)().length>9)Object(w.g)({"url":e});else switch(t){case"navigateTo":Object(w.e)({"url":e});break;case"reLaunch":Object(w.f)({"url":e});break;case"redirectTo":Object(w.g)({"url":e})}}(r,a)}),[a,O,r]);return Object(T.jsxs)(C.View,_objectSpread(_objectSpread({"className":" "+S.b("cell",[n,{"center":c,"required":o,"borderless":!s,"clickable":i||u}])+" ".concat(A||""),"hoverClass":"van-cell--hover hover-class","hoverStayTime":70,"style":S.c([I]),"onClick":E},B),{},{"children":[d?Object(T.jsx)(N.a,{"name":d,"className":"van-cell__left-icon-wrap van-cell__left-icon"}):p,Object(T.jsxs)(C.View,{"style":(t={"titleWidth":b,"titleStyle":f},Object(_.a)([{"max-width":Object(F.a)(t.titleWidth),"min-width":Object(F.a)(t.titleWidth)},t.titleStyle])),"className":"van-cell__title title-class","children":[j||0===j?Object(T.jsx)(T.Fragment,{"children":j}):m,(h||x)&&Object(T.jsx)(C.View,{"className":"van-cell__label label-class","children":x||h&&Object(T.jsx)(T.Fragment,{"children":h})})]}),Object(T.jsx)(C.View,{"className":"van-cell__value value-class","children":g||0===g?Object(T.jsx)(T.Fragment,{"children":g}):K}),i?Object(T.jsx)(N.a,{"name":v?"arrow-"+v:"arrow","className":"van-cell__right-icon-wrap right-icon-class van-cell__right-icon"}):R,L]}))}t.b=Cell},"494":function(e,t,r){"use strict";r(500);var a=r(638),n=(r(501),r(639)),c=r(27),o=r(12),l=r(7),s=r(17),i=r(9),u=r(15),d=r(138),b=r(2),f=r(428),j=r.n(f),h=r(431),g=(r(495),r(18)),v=["children","url","urlType","query","isPage","keyName","listRender","updateFun","searchProps"],O=function resetPagiantion(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?{"currentPage":0,"showCount":e.showCount||50}:{"totalResult":0,"currentPage":0,"showCount":e.showCount||50}},p=function getPagiantion(e){var t=e.currentPage,r=void 0===t?0:t,a=e.showCount;return{"currentPage":r+1,"showCount":void 0===a?50:a}},m=Object(b.forwardRef)((function(e,t){e.children;var r=e.url,f=e.urlType,m=void 0===f?"get":f,x=e.query,y=void 0===x?{}:x,k=e.isPage,C=void 0!==k&&k,S=e.keyName,w=e.listRender,N=e.updateFun,_=e.searchProps,F=Object(d.a)(e,v),T=Object(b.useState)([]),P=Object(u.a)(T,2),R=P[0],L=P[1],K=Object(b.useState)((function(){return O(e)})),I=Object(u.a)(K,2),A=I[0],B=I[1],E=Object(b.useState)((function(){return e.searchKey?Object(i.a)({},e.searchKey,e.searchValue||""):{}})),D=Object(u.a)(E,2),q=D[0],U=D[1],V=Object(b.useState)(!1),W=Object(u.a)(V,2),G=W[0],H=W[1];Object(b.useImperativeHandle)(t,(function(){return{"list":R,"pagination":A}}));var M=Object(b.useCallback)((function(){L(e.dataSource||[]),H(!e.isLoad),B(O(e))}),[]),Y=function(){var t=Object(s.a)(Object(o.a)().mark((function _callee(t){var a,n,c,s,i;return Object(o.a)().wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,r){t.next=3;break}return t.abrupt("return",M());case 3:return a=C?p(O(e,!0)):{},t.next=6,h.a[m](r,Object(l.a)(Object(l.a)(Object(l.a)({},a),q),y));case 6:n=t.sent,c=C?j.a.get(n,"resultObject.results")||[]:n.resultObject||[],s=C?j.a.get(n,"resultObject.pagination"):O(e),i=Object(l.a)(Object(l.a)({},A),{},{"currentPage":s.currentPage||0,"totalResult":s.totalResult||0}),L(c),B(i),H(!C||c.length>=s.totalResult),N&&N({"list":c,"pagination":i}),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),console.log("error",t.t0);case 19:case"end":return t.stop()}}),_callee,null,[[0,16]])})));return function doRefresh(e){return t.apply(this,arguments)}}(),z=function(){var t=Object(s.a)(Object(o.a)().mark((function _callee2(t){var a,n,s,i,u,d,b,f=arguments;return Object(o.a)().wrap((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:if(a=f.length>1&&void 0!==f[1]&&f[1],t.prev=1,r){t.next=4;break}return t.abrupt("return",M());case 4:return n=C?p(a?O(e,!0):A):{},t.next=7,h.a[m](r,Object(l.a)(Object(l.a)(Object(l.a)({},n),q),y));case 7:s=t.sent,i=C?j.a.get(s,"resultObject.results")||[]:s.resultObject||[],u=C?j.a.get(s,"resultObject.pagination"):O(e),d=[].concat(Object(c.a)(R),Object(c.a)(i)),b=Object(l.a)(Object(l.a)({},A),{},{"currentPage":u.currentPage||0,"totalResult":u.totalResult||0}),L(d),B(b),H(!C||d.length>=u.totalResult),N&&N({"list":d,"pagination":b}),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(1),console.log("error",t.t0);case 21:case"end":return t.stop()}}),_callee2,null,[[1,18]])})));return function loadMore(e){return t.apply(this,arguments)}}();return Object(b.useEffect)((function(){z()}),[]),Object(g.jsxs)(g.Fragment,{"children":[e.searchKey&&Object(g.jsx)(n.a,Object(l.a)({"className":"hr-scroll-search","placeholder":"请输入","onChange":function onChange(t){return U(Object(l.a)(Object(l.a)({},q),{},Object(i.a)({},e.searchKey,t.detail)))},"onSearch":Y},_||{})),Object(g.jsx)(a.a,Object(l.a)(Object(l.a)({"onScrollToUpper":Y,"onScrollToLower":z,"finished":G,"current":R.length,"scrollTop":100},F),{},{"children":Object(g.jsx)("div",{"className":"hr-scroll-list-out","children":R.map((function(e,t){return w?w({"key":S?e[S]:t,"dataSource":e}):Object(g.jsx)("div",{"children":t},S?e[S]:t)}))})}))]})}));t.a=m},"495":function(e,t,r){e.exports={"themeColor":"#2DC09B","themeTextColor":"#00A6A7","backgroundColor":"#F2F4F6","textColor":"rgba(0, 0, 0, 0.9)","btnBackgroundColor":"#F6F6F7","textColorDesc":"rgba(0, 0, 0, 0.3)","textColorSub":"rgba(37, 43, 52, 0.5)","textColorErr":"#FB5151"}},"641":function(e,t,r){var a=r(642);e.exports=a},"642":function(e,t,r){var a=r(49),n=r(643),c=Array.prototype;e.exports=function(e){var t=e.concat;return e===c||a(c,e)&&t===c.concat?n:t}},"643":function(e,t,r){r(215);var a=r(67);e.exports=a("Array").concat},"860":function(e,t,r){e.exports={"themeColor":"#2DC09B","themeTextColor":"#00A6A7","backgroundColor":"#F2F4F6","textColor":"rgba(0, 0, 0, 0.9)","btnBackgroundColor":"#F6F6F7","textColorDesc":"rgba(0, 0, 0, 0.3)","textColorSub":"rgba(37, 43, 52, 0.5)","textColorErr":"#FB5151"}},"861":function(e,t,r){e.exports={"themeColor":"#2DC09B","themeTextColor":"#00A6A7","backgroundColor":"#F2F4F6","textColor":"rgba(0, 0, 0, 0.9)","btnBackgroundColor":"#F6F6F7","textColorDesc":"rgba(0, 0, 0, 0.3)","textColorSub":"rgba(37, 43, 52, 0.5)","textColorErr":"#FB5151"}},"934":function(e,t,r){"use strict";r.r(t);var a=r(27),n=r(2),c=r.n(n),o=r(142),l=r(35),s=r(37),i=r(141),u=r.n(i),d=r(494),b=r(428),f=r.n(b),j=(r(860),r(18)),h=function StaffListCard(e){var t=e.dataSource,r=e.onClick;return Object(j.jsx)("div",{"className":"staff-listcard-out","children":Object(j.jsxs)("div",{"className":"staff-listcard","onClick":r,"children":[Object(j.jsx)("div",{"className":"staff-listcard-left","children":Object(j.jsx)(s.Image,{"className":"staff-listcard-left-img","mode":"aspectFill","src":f.a.get(t,"portraitPicIdUrl")||"https://img.dianplus.cn/vpc/1/976475662757937153/默认头像-2x_33.png"})}),Object(j.jsxs)("div",{"className":"staff-listcard-right","children":[Object(j.jsx)("div",{"className":"staff-listcard-right-top","children":f.a.get(t,"atom.realName")}),Object(j.jsxs)("div",{"className":"staff-listcard-right-btm","children":[t.depName,t.postName?"（".concat(t.postName,"）"):""]})]})]})})},g={"staffId":{"pageName":"员工花名册","url":"rs/corp/hr/get_dto_page","keyName":"atom.staffId","lLabelRender":function lLabelRender(e){return"【".concat(f.a.get(e,"postName"),"】")},"rLabelRender":function rLabelRender(e){return f.a.get(e,"atom.realName")},"query":{"staffStatuses":"1,2,3"}},"default":{"keyName":"id","rLabelRender":function rLabelRender(e){return f.a.get(e,"label")}}};r(861),t.default=c.a.memo(Object(o.d)((function StaffList(e){var t=u.a.getData()||{},r=Object(n.useMemo)((function(){return g.staffId||{}}),[t]),c=Object(n.useCallback)((function(e,t){var a=e.dataSource,n=e.key;return Object(j.jsx)(h,{"dataSource":a,"onClick":function onClick(){return u.a.navigate({"url":"/pages/staff/staffData/staffInfo"},{"params":{"id":f.a.get(a,"atom.staffId")}})}},a[r.keyName]||n)}),[r]);return Object(j.jsxs)("div",{"className":"search-page","children":[Object(j.jsx)(d.a,{"className":"search-scroll","url":r.url||t.url||"","urlType":"post","searchKey":"keyword","isPage":!0,"listRender":function listRender(e){return c(e,"确认离职")},"scrollY":!0}),t.needSelect?Object(j.jsx)("div",{"className":"search-btm","children":Object(j.jsx)(s.Button,{"className":"search-btm-btn","onClick":function onSave(){var e;t.eventKey&&(e=l.default.eventCenter).trigger.apply(e,[t.eventKey,t.eventKey].concat(Object(a.a)(select))),u.a.back({"delta":1})},"children":"保存"})}):null]})})))}}]);