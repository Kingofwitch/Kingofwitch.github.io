(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"430":function(e,t,n){"use strict";n.d(t,"b",(function(){return escapeUndefinedOrNull})),n.d(t,"c",(function(){return objSplit})),n.d(t,"a",(function(){return arrToObjFilter})),n.d(t,"d",(function(){return c}));var r=n(144),a=n(9);function escapeUndefinedOrNull(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["undefined","null"],n=t.includes("undefined"),r=t.includes("null");return Object.keys(e||{}).reduce((function(o,i){var c=e[i];return Array.isArray(t)&&(n&&void 0===c||r&&!c&&void 0!==c&&0!=c)?o:Object.assign(o,Object(a.a)({},i,c))}),{})}function objSplit(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return _.groupBy(Object.keys(e).map((function(n){var a=n.split(t),o=Object(r.a)(a),i=o[0],c=o[1];o.slice(2);return{"preKey":i,"key":c,"value":e[n]}})),"preKey")}function arrToObjFilter(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return e;var r=Object.keys(t||{});return e.filter((function(e){return r.every((function(r){return o((_.get(t,r)||"").includes(_.get(e,r)),n)}))}))}var o=function reverseSure(e,t){return t?!e:e},i={"input":2,"select":3,"date":4,"number":5,"switch":6},c=function pcFormConfigTrans(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return{"alias":e.label,"attributeCode":e.key,"attributeName":e.key,"attributeContent":e.dataSource||"","attribute":i[e.type]||2,"isCheck":e.required?0:1,"disabled":e.disabled,"check":"1"}}))}},"431":function(e,t,n){"use strict";var r,a=n(446),o=n(200),i=n(197),c=n(64);!function(e){e.APP_KEY="appKey",e.USER_INFO="userInfo"}(r||(r={}));var u={"cache":{},"setStorage":function setStorage(e,t){return u.cache[e]=t,Object(c.o)({"key":e,"data":t})},"getStorage":function getStorage(e){return Object(c.f)({"key":e})},"setStoreageSync":function setStoreageSync(e,t){return u.cache[e]=t,Object(c.p)(e,t)},"getStoreageSync":function getStoreageSync(e){return u.cache[e]||(u.cache[e]=Object(c.i)(e)),u.cache[e]},"removeStorageSync":function removeStorageSync(e){return u.cache[e]=void 0,Object(c.l)(e)}},l=n(430),s=n(7),d=n(138),b=["status","statusText","instatus"];Object(o.a)((function interceptor(e){var t=e.requestParams,n=t.method,r=t.data,a=t.url,o=t.showToast,c=void 0===o||o;return console.log("请求参数：http ".concat(n||"GET"," --\x3e ").concat(a," data: "),r,t),e.proceed(t).then((function(e){console.log("res",e);var t=e.data,n=t.status,r=t.resultCode,a=t.message,o=t.exceptionMessage;return console.log(111,n,r,a,o),"success"==n?e.data:Promise.reject({"statusText":o||a||"失败","instatus":r||""})})).catch((function(e){var t=e||{},n=t.status,r=void 0===n?"200":n,a=t.statusText,o=void 0===a?"":a,u=t.instatus,l=void 0===u?"default":u,f=Object(d.a)(t,b);switch(c&&Object(i.h)({"title":o,"icon":"none","duration":2e3}),r){case"200":switch(l){case"value":break;default:return Promise.reject(Object(s.a)({"status":r,"statusText":o,"instatus":l},f))}break;default:return console.log("err",Object(s.a)({"status":r,"statusText":o,"instatus":l},f)),Promise.reject(Object(s.a)({"status":r,"statusText":o,"instatus":l},f))}}))}));var f=function publicBasicsHttp(e){var t=e.url,n=e.data,a=e.method,s=e.showLoading;return new Promise((function(e,d){var b={};b.data=Object(l.b)(n),b.method=a||"GET",b.url="".concat(function getServerHost(){return Object(c.i)("app_server_host")||"https://mock.apifox.cn/m1/1507578-0-default/"}()).concat(t,".do"),b.mode="cors",b.credentials="include";var f=u.getStoreageSync(r.APP_KEY);f&&Object.assign(b.header,{"Appkey":f}),s&&Object(i.f)(),Object(o.b)(b).then((function(t){s&&Object(i.c)(),console.log("httpBase",t),e(t)})).catch((function(e){s&&Object(i.c)(),console.log("err",e),200==e.status&&d(e)}))}))};t.a={"get":Object(a.b)((function(e,t){return f({"url":e,"data":t,"method":"GET"})})),"post":Object(a.b)((function(e,t){return f({"url":e,"data":t,"method":"POST"})}))}},"435":function(e,t,n){e.exports={"themeColor":"#2DC09B","themeTextColor":"#00A6A7","backgroundColor":"#F2F4F6","textColor":"rgba(0, 0, 0, 0.9)","btnBackgroundColor":"#F6F6F7","textColorDesc":"rgba(0, 0, 0, 0.3)","textColorSub":"rgba(37, 43, 52, 0.5)","textColorErr":"#FB5151"}},"442":function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return f}));n(483);var r=n(490),a=n(7),o=n(428),i=n.n(o),c=n(37),u=n(447),l=n(18),s=[{"attribute":1,"attributeName":"系统控件"},{"attribute":2,"attributeName":"文本","formProps":{"trigger":"onInput","validateTrigger":"onBlur","valueFormat":function valueFormat(e){return e.detail.value}}},{"attribute":3,"attributeName":"下拉框","formProps":{"trigger":"onPicker","validateTrigger":"onPicker","valueFormat":function valueFormat(e){return e}}},{"attribute":4,"attributeName":"日期","formProps":{"trigger":"onPicker","validateTrigger":"onPicker","valueFormat":function valueFormat(e){return e}}},{"attribute":5,"attributeName":"数字","formProps":{"trigger":"onInput","validateTrigger":"onBlur","valueFormat":function valueFormat(e){return e.detail.value}}},{"attribute":6,"attributeName":"布尔值"},{"attribute":7,"attributeName":"图片"},{"attribute":8,"attributeName":"附件"}],d=function getFormConfig(e,t){var n=s.find((function(t){return t.attribute==e}))||{};return t?i.a.get(n,t):n},b={"typeName":"attribute","typeContentName":"attributeContent","typeKeyName":"attributeCode"},f=function getFormItem(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e[(t=Object(a.a)(Object(a.a)({},b),t)).typeName],o=e[t.typeContentName];switch(n){case 2:return Object(l.jsx)(c.Input,{"placeholder":"请输入"});case 3:return Object(l.jsx)(u.b,{"dataSource":o||[]});case 4:return Object(l.jsx)(u.c,{"mode":"date"});case 5:return Object(l.jsx)(c.Input,{"placeholder":"请输入","type":"number"});case 6:return Object(l.jsx)(r.a,{});default:return}}},"447":function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return b})),n.d(t,"a",(function(){return j}));n(208);var r=n(139),a=n(13),o=n(15),i=n(37),c=n(2),u=n(445),l=n.n(u),s=(n(435),n(18)),d=function FormPicker(e){var t=e.value,n=e.dataSource,u=e.placeholder,d=void 0===u?"请选择":u,b=Object(c.useState)(-1),f=Object(o.a)(b,2),j=f[0],v=f[1],m=Object(c.useCallback)((function(e){return"object"==Object(a.a)(e)&&e?Array.isArray(e)?e:Object.keys(e).map((function(t){return{"id":t,"name":e[t]}})):[]}),[]),p=Object(c.useState)((function(){return m(n)})),g=Object(o.a)(p,2),h=g[0],O=g[1],C=Object(c.useState)(null),x=Object(o.a)(C,2),k=x[0],y=x[1];Object(c.useEffect)((function(){var e=h.findIndex((function(e){return e.id==t}));y(h[e]),v(e)}),[h,t]),Object(c.useEffect)((function(){O(m(n))}),[JSON.stringify(n)]);var S=Object(c.useCallback)((function(t){var n=l.a.get(t,"detail.value");return e.onPicker&&e.onPicker(l.a.get(h[n],"id"),h[n]||{})}),[h]);return Object(s.jsx)(i.Picker,{"range":h,"rangeKey":"name","value":j,"onChange":S,"children":Object(s.jsxs)("div",{"className":"form-picker-content","children":[-1!=j?Object(s.jsx)("div",{"className":"form-picker-content-active","children":null==k?void 0:k.name}):Object(s.jsx)("div",{"children":d}),Object(s.jsx)(r.b,{"className":"form-picker-content-icon","name":"arrow"})]})})},b=function FormPickerEx(e){var t=e.mode,n=void 0===t?"date":t,a=e.value,o=e.placeholder,u=void 0===o?"请选择":o,d=Object(c.useCallback)((function(t){var n=l.a.get(t,"detail.value");return console.log("detail",n),e.onPicker&&e.onPicker(n)}),[]);return Object(s.jsx)(i.Picker,{"mode":n,"rangeKey":"name","value":a,"onChange":d,"children":Object(s.jsxs)("div",{"className":"form-picker-content","children":[a?Object(s.jsx)("div",{"className":"form-picker-content-active","children":a}):Object(s.jsx)("div",{"children":u}),Object(s.jsx)(r.b,{"className":"form-picker-content-icon","name":"arrow"})]})})},f=n(35).default.eventCenter,j=function FormLabel(e){var t=e.value,n=e.placeholder,o=void 0===n?"请选择":n,i=e.onClick,u=e.eventName,l=e.eventHandler,d=Object(c.useMemo)((function(){return Array.isArray(t)?t.map((function(e){return e.label})).filter((function(e){return e})).join(","):"object"===Object(a.a)(t)?(null==t?void 0:t.label)||"":t}),[t]);return Object(c.useEffect)((function(){if(u&&l)return f.off(u,l),f.on(u,l),function(){f.off(u)}}),[u,l]),Object(s.jsxs)("div",{"className":"form-label-content","onClick":function onClick(){return i&&i()},"children":[d?Object(s.jsx)("div",{"className":"form-label-content-active","children":d}):Object(s.jsx)("div",{"children":o}),Object(s.jsx)(r.b,{"className":"form-label-content-icon","name":"arrow"})]})}},"464":function(e,t,n){"use strict";n(465);var r=n(486),a=n(7),o=(n(469),n(439)),i=(n(208),n(139)),c=n(15),u=n(138),l=n(2),s=(n(470),n(18)),d=["isBtnHide","placeHolder","loadingProps"];t.a=function BtnPopupCreateHoc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},b=(t.isBtnHide,t.placeHolder,t.loadingProps),f=void 0===b?{}:b,j=Object(u.a)(t,d);return function(u){var d=u.show,b=u.setShow,v=Object(l.useState)(!1),m=Object(c.a)(v,2),p=m[0],g=m[1],h=Object(l.useState)((function(){return u.value})),O=Object(c.a)(h,2),C=O[0],x=O[1],k=Object(l.useState)(!1),y=Object(c.a)(k,2),S=y[0],F=y[1],w=Object(l.useState)(t.loadTip||""),N=Object(c.a)(w,2),I=N[0],P=N[1],D=Object(l.useCallback)((function(e){n.onCancel&&n.onCancel(e)}),[n.onCancel]);return Object(s.jsxs)(s.Fragment,{"children":[t.isBtnHide?null:Object(s.jsx)("div",{"onClick":function onClick(){return g(!0)},"children":C||Object(s.jsxs)("div",{"className":"form-picker-content","children":[t.placeHolder||"请选择",Object(s.jsx)(i.b,{"className":"form-picker-content-icon","name":"arrow"})]})}),Object(s.jsxs)(r.a,Object(a.a)(Object(a.a)({"position":"bottom","show":d||p,"onClose":function onClose(){return D(!1)},"round":!0},j),{},{"children":[S&&Object(s.jsx)("div",{"className":"popup-loading","children":Object(s.jsx)(o.b,Object(a.a)({"size":"24px","vertical":!0,"type":"spinner","children":I},f))}),Object(s.jsx)(e,Object(a.a)({"onInit":function onInit(e){return n=e},"modelFun":{"setLoading":F,"setLoadTip":P,"setShow":b||g,"setValue":x}},u))]}))]})}}},"470":function(e,t,n){e.exports={"themeColor":"#2DC09B","themeTextColor":"#00A6A7","backgroundColor":"#F2F4F6","textColor":"rgba(0, 0, 0, 0.9)","btnBackgroundColor":"#F6F6F7","textColorDesc":"rgba(0, 0, 0, 0.3)","textColorSub":"rgba(37, 43, 52, 0.5)","textColorErr":"#FB5151"}},"472":function(e,t,n){e.exports={"themeColor":"#2DC09B","themeTextColor":"#00A6A7","backgroundColor":"#F2F4F6","textColor":"rgba(0, 0, 0, 0.9)","btnBackgroundColor":"#F6F6F7","textColorDesc":"rgba(0, 0, 0, 0.3)","textColorSub":"rgba(37, 43, 52, 0.5)","textColorErr":"#FB5151"}},"488":function(e,t,n){"use strict";n(208);var r=n(139),a=n(7),o=n(138),i=n(13),c=n(15),u=n(2),l=n(37),s=n(485);console.log("总节点数（单个tree）：",function calcTotal(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=function rec(n){return n>=0?e*Math.pow(t,n--)+rec(n):0};return r(n+1)}());(function generateData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];function _loop(n,a,o){for(var i=a||"0",c=o||r,u=[],l=0;l<e;l++){var s="".concat(i,"-").concat(l);c.push({"title":"".concat(s,"-label"),"key":"".concat(s,"-key")}),l<t&&u.push(s)}if(n<0)return c;var d=n-1;return u.forEach((function(e,t){return c[t].children=[],_loop(d,e,c[t].children)})),null}return _loop(n),r})();function loopData(e,t){!function loop(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e.forEach((function(e,r){var a="".concat(n,"-").concat(r);e.children&&loop(e.children,a),t(e,r,a)}))}(e)}function spl(e){return e.split("-")}function splitLen(e){return e.split("-").length}var d=n(431),b=(n(472),n(18)),f=["children"];t.a=function DepsModel(e){var t=e.onInit,n=e.setShow,j=e.modelFun,v=Object(u.useState)([]),m=Object(c.a)(v,2),p=m[0],g=m[1],h=Object(u.useState)([]),O=Object(c.a)(h,2),C=O[0],x=O[1],k=Object(u.useState)([]),y=Object(c.a)(k,2),S=y[0],F=y[1],w=Object(u.useMemo)((function(){if(!e.initValue)return[];var t=e.initValue;return"object"===Object(i.a)(t)?null!=t&&t.value?null==t?void 0:t.value:t.map((function(e){return e.value||e})):t}),[e.initValue]);Object(u.useEffect)((function(){t&&t({"onCancel":function onCancel(){return n(!1)}})}),[]),Object(u.useEffect)((function(){j.setLoading(!0),d.a.post("rs/corp/department/get_department_tree",{}).then((function(e){F(e.resultObject?e.resultObject.children:[]),j.setLoading(!1)})).catch((function(e){j.setLoading(!1)}))}),[]);return Object(b.jsxs)("div",{"className":"depmodel-out","children":[Object(b.jsx)("div",{"className":"depmodel-header","children":"选择部门"}),Object(b.jsx)(l.ScrollView,{"className":"depmodel-main","scrollY":!0,"children":Object(b.jsx)(s.a,{"fieldNames":{"children":"children","title":"name","key":"key"},"onSelect":function onRbSelect(e,t){console.log("selectedKeys, info",e,t);var n=e;t.selected&&(n=function getRadioSelectKeys(e,t,n){var r=[],a=[],o=[];loopData(e,(function(e,r,i){t.indexOf(e.key)>-1&&a.push([i,e.key]),n&&n===e.key&&o.push(i,e.key)}));var i={},c=function getPosKey(e,t){var n=splitLen(e);i[n]?i[n].forEach((function(r,a){!function isSibling(e,t){return e.pop(),t.pop(),e.join(",")===t.join(",")}(spl(r[0]),spl(e))?spl(r[0])!==spl(e)&&i[n].push([e,t]):i[n][a]=[e,t]})):i[n]=[[e,t]]};return a.forEach((function(e){c(e[0],e[1])})),n&&c(o[0],o[1]),Object.keys(i).forEach((function(e){i[e].forEach((function(e){-1===r.indexOf(e[1])&&r.push(e[1])}))})),r}(S,e,t.node.props.eventKey)),g(n),x((t.selectedNodes||[]).map((function(e){e.children;var t=Object(o.a)(e,f);return Object(a.a)({},t)})))},"prefixCls":"hr-tree","defaultCheckedKeys":w,"defaultSelectedKeys":w,"defaultExpandedKeys":w,"treeData":S,"switcherIcon":function switcherIcon(e){if(!e.isLeaf)return Object(b.jsx)(r.b,{"name":"right","classPrefix":"page-icon","size":25})},"icon":function icon(e){var t;return null!=e&&null!==(t=e.data)&&void 0!==t&&t.children?Object(b.jsx)(r.b,{"classPrefix":"page-icon","name":"deps","size":32,"color":"rgba(48, 102, 255)"}):Object(b.jsx)(r.b,{"classPrefix":"page-icon","name":"dep5","size":35,"color":"rgba(0, 164, 99,0.8)"})}})}),Object(b.jsx)("div",{"className":"depmodel-bottom","onClick":function onClick(){return function onConfirm(){e.onConfirm&&e.onConfirm(p,C),n(!1)}()},"children":"确定"})]})}},"489":function(e,t,n){"use strict";var r,a,o,i,c,u,l=n(57),s=n(4),d=n(3),b=(n(9),n(58)),f=(n(140),n(8)),j=n(428),v=n.n(j),m=n(430),p=n(7),g=n(431),h=function getRegisterConifg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return g.a.post("rs/corp/staffregconfig/get_dto_by_id",Object(p.a)({},e))},O=(r=Object(s.a)((function RegisterConifgBaseModel(){Object(d.a)(this,RegisterConifgBaseModel),Object(l.a)(this,"atom",a,this),Object(l.a)(this,"refAtom",o,this),Object(l.a)(this,"fieldsConfigDto",i,this),Object(l.a)(this,"archivesConfig",c,this),Object(l.a)(this,"getConfig",u,this)})),a=Object(b.a)(r.prototype,"atom",[f.m],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return{}}}),o=Object(b.a)(r.prototype,"refAtom",[f.m],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return{}}}),i=Object(b.a)(r.prototype,"fieldsConfigDto",[f.m],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return[]}}),c=Object(b.a)(r.prototype,"archivesConfig",[f.m],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return[]}}),u=Object(b.a)(r.prototype,"getConfig",[f.f],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;v.a.get();return h(t).then((function(t){var a=t.resultObject||{},o=a.archivesConfig,i=a.atom,c=a.fieldsConfigDto,u=a.refAtom;return e.archivesConfig=Object(m.a)(v.a.get((o||[])[0],"corpStaffRegFieldsDetailsList"),r),e.atom=i||{},e.fieldsConfigDto=Object(m.a)(c||[],n),e.refAtom=u||{},e}))}}}),r);t.a=O},"672":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return u}));var r=n(428),a=n.n(r),o=["depId","directorId","postId","rankId"],i=function getStaffData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o;if(!t)return"";var r=n.find((function(e){return t.includes(e)}));return r?c(e,r):u(e,t)},c=function exraDeal(e,t){if(u(e,t))switch(t){case"depId":return[{"value":u(e,t),"label":"".concat(u(e,"depName"))}];case"directorId":return{"value":u(e,t),"label":"".concat(u(e,"directorName"))};case"postId":return{"value":u(e,t),"label":"【".concat(u(e,"postCode"),"】").concat(u(e,"postName"))};case"rankId":return{"value":u(e,t),"label":"【".concat(u(e,"rankCode"),"】").concat(u(e,"rankName"))};default:return}},u=function getKeyOrAtom(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return a.a.get(e,"atom.".concat(t))||a.a.get(e,t)}},"862":function(e,t,n){e.exports={"themeColor":"#2DC09B","themeTextColor":"#00A6A7","backgroundColor":"#F2F4F6","textColor":"rgba(0, 0, 0, 0.9)","btnBackgroundColor":"#F6F6F7","textColorDesc":"rgba(0, 0, 0, 0.3)","textColorSub":"rgba(37, 43, 52, 0.5)","textColorErr":"#FB5151"}},"863":function(e,t,n){e.exports={"themeColor":"#2DC09B","themeTextColor":"#00A6A7","backgroundColor":"#F2F4F6","textColor":"rgba(0, 0, 0, 0.9)","btnBackgroundColor":"#F6F6F7","textColorDesc":"rgba(0, 0, 0, 0.3)","textColorSub":"rgba(37, 43, 52, 0.5)","textColorErr":"#FB5151"}},"931":function(e,t,n){"use strict";n.r(t);var r,a,o,i,c,u=n(15),l=n(13),s=n(9),d=n(7),b=n(2),f=n.n(b),j=n(29),v=n(142),m=n(35),p=n(37),g=n(141),h=n.n(g),O=n(428),C=n.n(O),x=n(464),k=(n(455),n(456)),y=(n(441),n(443)),S=n(447),F=n(442),w=(n(862),n(18)),N=Object(b.forwardRef)((function(e,t){e.type;var n=e.config,r=e.initValue,a=void 0===r?{}:r,o=e.setModelShow,i=e.show,c=Object(b.useRef)(null);Object(b.useImperativeHandle)(t,(function(){return{"formRef":c}}));var u=Object(b.useMemo)((function(){var e=function getFormValue(e){return c.current?c.current.getFieldValue(e):null};return{"depId":function depId(t){return o&&o("dep",!i,[t,e(t)])},"directorId":function directorId(t){return g.Router.navigate({"url":"/pages/searchPage/index"},{"data":{"key":"directorId","selected":e(t),"eventKey":t,"query":{}}})},"postId":function postId(t){return g.Router.navigate({"url":"/pages/searchPage/index"},{"data":{"key":"postId","selected":e(t),"eventKey":t,"query":{}}})}}}),[null==c?void 0:c.current]),l=Object(b.useMemo)((function(){var e=function setFields(e,t){return c.current.setFieldsValue(e,t)};return{"depId":function depId(t,n,r){return e(t,r.map((function(e){return{"value":e.id,"label":e.name}})))},"directorId":function directorId(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e(t,{"value":null==r?void 0:r.value,"label":null==r?void 0:r.label})},"postId":function postId(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e(t,{"value":null==r?void 0:r.value,"label":null==r?void 0:r.label}),C.a.get(r,"atom.postId")&&e("".concat(t.split(".")[0],".rankId"),{"value":null==r?void 0:r.rankId,"label":null!=r&&r.rankId?"【".concat(null==r?void 0:r.rankCode,"】").concat(null==r?void 0:r.rankName):""})}}}),[null==c?void 0:c.current]),s=Object(b.useCallback)((function(e,t){return 3!==e.attribute||Object.keys(e.attributeContent||{}).length?Object(F.b)(e,t,u,l):f(e)}),[u,l]),f=Object(b.useCallback)((function(e){var t=u[e.attributeCode]||null,n=l[e.attributeCode]||null,r="".concat(e.attributeCode);return Object(w.jsx)(S.a,{"eventName":r,"eventHandler":n,"onClick":function onClick(){return t&&t(r)}})}),[]);return Object(w.jsx)(k.a,{"initialValues":a,"ref":c,"className":"from-init-style","children":(n||[]).map((function(e,t){var n=(Object(F.a)(e.attribute)||{}).formProps,r="".concat(null==e?void 0:e.attributeCode);return Object(w.jsx)(y.a,Object(d.a)(Object(d.a)({"label":null==e?void 0:e.alias,"name":r,"required":0==(null==e?void 0:e.isCheck),"valueFormat":function valueFormat(e){var t;return(null==e||null===(t=e.detail)||void 0===t?void 0:t.value)||""},"valueKey":"value","className":[e.disabled?"from-item-diabaled":""].join(" ")},e.disabled?{"trigger":"none"}:n||{}),{},{"children":s(e,{})}),r||t)}))})})),I=n(488),P=n(57),D=n(4),B=n(3),A=n(58),E=(n(140),n(8)),T=n(489),M=(r=Object(D.a)((function BaseModel(){Object(B.a)(this,BaseModel),Object(P.a)(this,"name",a,this),Object(P.a)(this,"depModelShow",o,this),Object(P.a)(this,"initValues",i,this),Object(s.a)(this,"configBaseModel",new T.a),Object(P.a)(this,"setModelShow",c,this)})),a=Object(A.a)(r.prototype,"name",[E.m],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return""}}),o=Object(A.a)(r.prototype,"depModelShow",[E.m],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return!1}}),i=Object(A.a)(r.prototype,"initValues",[E.m],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return{}}}),c=Object(A.a)(r.prototype,"setModelShow",[E.f],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){var e=this;return function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[void 0,void 0];["dep"].includes(t)&&(e["".concat(t,"ModelShow")]=n,n&&(e.initValues=Object(d.a)(Object(d.a)({},e.initValues),{},{"dep":r}),console.log("设置了")))}}}),r),R={"beRegular":{"form":[{"key":"planRegularDate","label":"计划转正日期","type":"date"},{"key":"beRegularDate","label":"实际转正日期","type":"date"},{"key":"regularRemark","label":"转正说明","type":"textArea"}]},"sureQuit":{"form":[{"label":"计划离职日期","key":"planDimissionDate","type":"date","required":!0},{"label":"申请日期","key":"dimissionApplyDate","type":"date","required":!0},{"label":"薪资结算日期","key":"dimissionSettDate","type":"date","required":!0},{"label":"离职原因","key":"dimissionReason","type":"select","required":!0,"dataSource":[{"id":1,"name":"家庭原因"},{"id":2,"name":"个人原因"},{"id":3,"name":"发展原因"},{"id":4,"name":"其它"},{"id":5,"name":"协议解除"},{"id":6,"name":"无法胜任工作"},{"id":7,"name":"经济性裁员"},{"id":8,"name":"严重违法违纪"}]},{"label":"离职备注","key":"dimissionRemark","type":"textArea"}]},"sureFormal":{"form":[{"key":"planRegularDate","label":"计划转正日期","type":"date","disabled":!0},{"key":"beRegularDate","label":"实际转正日期","type":"date","required":!0},{"key":"regularRemark","label":"转正说明","type":"textArea"}]}},z=n(430),V=n(672);n(863),t.default=f.a.memo(Object(v.d)((function StaffOperate(e){var t=Object(j.d)((function(){return new M})),n=(t.configBaseModel,t.depModelShow),r=t.setModelShow,a=t.initValues,o=h.a.getData()||{},i=o.dataSource,c=o.type,f=Object(b.useRef)(null),v=Object(b.useMemo)((function(){return Object(z.d)(C.a.get(R,"".concat(c,".form")))||[]}),[R,c]);Object(b.useEffect)((function(){if((v||[]).length&&f&&i){var e=C.a.get(f,"current.formRef.current"),t=v.reduce((function(e,t){return Object(d.a)(Object(d.a)({},e),{},Object(s.a)({},"".concat(t.attributeCode),Object(V.b)(i,t.attributeCode)))}),{});console.log("formInitValue",t),e.setFields(t),Object.keys(t).forEach((function(n){"object"==Object(l.a)(t[n])&&e.setFieldsValue(n,t[n])}))}}),[f,v,i,c]);var g=Object(b.useMemo)((function(){return Object(x.a)(I.a,{"isBtnHide":!0,"position":"center"})}),[]),O=Object(b.useMemo)((function(){if(c)return Object(w.jsx)(N,{"ref":f,"config":v,"setModelShow":r,"show":n})}),[c]);return Object(w.jsxs)(w.Fragment,{"children":[Object(w.jsxs)("div",{"className":"operate-staff","children":[Object(w.jsx)("div",{"className":"operate-swiper","children":Object(w.jsxs)(p.ScrollView,{"className":"operate-swiper-nostep-item","scrollY":!0,"children":[Object(w.jsxs)("div",{"className":"operate-swiper-head","children":[Object(w.jsx)("div",{"children":"姓名"}),Object(w.jsx)("div",{"children":Object(V.a)(i,"realName")})]}),O]})}),Object(w.jsx)("div",{"className":"operate-staff-btm","children":Object(w.jsx)("div",{"className":"operate-staff-btm-btn  operate-staff-btm-btn-full item-tap","onClick":function onClick(){return function toSubmit(){var e=C.a.get(f,"current.formRef.current");console.log("fileRef",null==e?void 0:e.getFieldsValue())}()},"children":"提交"})})]}),g({"show":n,"setShow":function setShow(e){return r("dep",e)},"onConfirm":function onDepsConfirm(e,t){var n=(null==a?void 0:a.dep)||[],r=Object(u.a)(n,1)[0];r&&m.default.eventCenter.trigger(r,r,e,t)},"initValue":null!=a&&a.dep?null==a?void 0:a.dep[1]:void 0})]})})))}}]);