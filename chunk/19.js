(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"431":function(e,t,n){"use strict";n.d(t,"b",(function(){return escapeUndefinedOrNull})),n.d(t,"c",(function(){return objSplit})),n.d(t,"a",(function(){return arrToObjFilter}));var o=n(146),r=n(9);function escapeUndefinedOrNull(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["undefined","null"],n=t.includes("undefined"),o=t.includes("null");return Object.keys(e||{}).reduce((function(i,c){var a=e[c];return Array.isArray(t)&&(n&&void 0===a||o&&!a&&void 0!==a&&0!=a)?i:Object.assign(i,Object(r.a)({},c,a))}),{})}function objSplit(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return _.groupBy(Object.keys(e).map((function(n){var r=n.split(t),i=Object(o.a)(r),c=i[0],a=i[1];i.slice(2);return{"preKey":c,"key":a,"value":e[n]}})),"preKey")}function arrToObjFilter(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return e;var o=Object.keys(t||{});return e.filter((function(e){return o.every((function(o){return i((_.get(t,o)||"").includes(_.get(e,o)),n)}))}))}var i=function reverseSure(e,t){return t?!e:e}},"432":function(e,t,n){"use strict";var o,r=n(486),i=n(200),c=n(197),a=n(64);!function(e){e.APP_KEY="appKey",e.USER_INFO="userInfo"}(o||(o={}));var l={"cache":{},"setStorage":function setStorage(e,t){return l.cache[e]=t,Object(a.o)({"key":e,"data":t})},"getStorage":function getStorage(e){return Object(a.f)({"key":e})},"setStoreageSync":function setStoreageSync(e,t){return l.cache[e]=t,Object(a.p)(e,t)},"getStoreageSync":function getStoreageSync(e){return l.cache[e]||(l.cache[e]=Object(a.i)(e)),l.cache[e]},"removeStorageSync":function removeStorageSync(e){return l.cache[e]=void 0,Object(a.l)(e)}},s=n(431),u=n(7),d=n(138),f=["status","statusText","instatus"];Object(i.a)((function interceptor(e){var t=e.requestParams,n=t.method,o=t.data,r=t.url,i=t.showToast,a=void 0===i||i;return console.log("请求参数：http ".concat(n||"GET"," --\x3e ").concat(r," data: "),o,t),e.proceed(t).then((function(e){console.log("res",e);var t=e.data,n=t.status,o=t.resultCode,r=t.message,i=t.exceptionMessage;return console.log(111,n,o,r,i),"success"==n?e.data:Promise.reject({"statusText":i||r||"失败","instatus":o||""})})).catch((function(e){var t=e||{},n=t.status,o=void 0===n?"200":n,r=t.statusText,i=void 0===r?"":r,l=t.instatus,s=void 0===l?"default":l,b=Object(d.a)(t,f);switch(a&&Object(c.h)({"title":i,"icon":"none","duration":2e3}),o){case"200":switch(s){case"value":break;default:return Promise.reject(Object(u.a)({"status":o,"statusText":i,"instatus":s},b))}break;default:return console.log("err",Object(u.a)({"status":o,"statusText":i,"instatus":s},b)),Promise.reject(Object(u.a)({"status":o,"statusText":i,"instatus":s},b))}}))}));var b=function publicBasicsHttp(e){var t=e.url,n=e.data,r=e.method,u=e.showLoading;return new Promise((function(e,d){var f={};f.data=Object(s.b)(n),f.method=r||"GET",f.url="".concat(function getServerHost(){return Object(a.i)("app_server_host")||"https://mock.apifox.cn/m1/1507578-0-default/"}()).concat(t,".do"),f.mode="cors",f.credentials="include";var b=l.getStoreageSync(o.APP_KEY);b&&Object.assign(f.header,{"Appkey":b}),u&&Object(c.f)(),Object(i.b)(f).then((function(t){u&&Object(c.c)(),console.log("httpBase",t),e(t)})).catch((function(e){u&&Object(c.c)(),console.log("err",e),200==e.status&&d(e)}))}))};t.a={"get":Object(r.b)((function(e,t){return b({"url":e,"data":t,"method":"GET"})})),"post":Object(r.b)((function(e,t){return b({"url":e,"data":t,"method":"POST"})}))}},"512":function(e,t,n){"use strict";n(513);var o=n(523),r=n(7),i=(n(517),n(441)),c=(n(208),n(139)),a=n(15),l=n(138),s=n(2),u=(n(518),n(18)),d=["isBtnHide","placeHolder","loadingProps"];t.a=function BtnPopupCreateHoc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},f=(t.isBtnHide,t.placeHolder,t.loadingProps),b=void 0===f?{}:f,j=Object(l.a)(t,d);return function(l){var d=l.show,f=l.setShow,h=Object(s.useState)(!1),p=Object(a.a)(h,2),g=p[0],O=p[1],v=Object(s.useState)((function(){return l.value})),m=Object(a.a)(v,2),C=m[0],x=m[1],S=Object(s.useState)(!1),y=Object(a.a)(S,2),w=y[0],k=y[1],F=Object(s.useState)(t.loadTip||""),B=Object(a.a)(F,2),z=B[0],E=B[1],T=Object(s.useCallback)((function(e){n.onCancel&&n.onCancel(e)}),[n.onCancel]);return Object(u.jsxs)(u.Fragment,{"children":[t.isBtnHide?null:Object(u.jsx)("div",{"onClick":function onClick(){return O(!0)},"children":C||Object(u.jsxs)("div",{"className":"form-picker-content","children":[t.placeHolder||"请选择",Object(u.jsx)(c.b,{"className":"form-picker-content-icon","name":"arrow"})]})}),Object(u.jsxs)(o.a,Object(r.a)(Object(r.a)({"position":"bottom","show":d||g,"onClose":function onClose(){return T(!1)},"round":!0},j),{},{"children":[w&&Object(u.jsx)("div",{"className":"popup-loading","children":Object(u.jsx)(i.b,Object(r.a)({"size":"24px","vertical":!0,"type":"spinner","children":z},b))}),Object(u.jsx)(e,Object(r.a)({"onInit":function onInit(e){return n=e},"modelFun":{"setLoading":k,"setLoadTip":E,"setShow":f||O,"setValue":x}},l))]}))]})}}},"518":function(e,t,n){e.exports={"themeColor":"#2DC09B","themeTextColor":"#00A6A7","backgroundColor":"#F2F4F6","textColor":"rgba(0, 0, 0, 0.9)","btnBackgroundColor":"#F6F6F7","textColorDesc":"rgba(0, 0, 0, 0.3)","textColorSub":"rgba(37, 43, 52, 0.5)","textColorErr":"#FB5151"}},"520":function(e,t,n){e.exports={"themeColor":"#2DC09B","themeTextColor":"#00A6A7","backgroundColor":"#F2F4F6","textColor":"rgba(0, 0, 0, 0.9)","btnBackgroundColor":"#F6F6F7","textColorDesc":"rgba(0, 0, 0, 0.3)","textColorSub":"rgba(37, 43, 52, 0.5)","textColorErr":"#FB5151"}},"525":function(e,t,n){"use strict";n(208);var o=n(139),r=n(7),i=n(138),c=n(13),a=n(15),l=n(2),s=n(37),u=n(522);console.log("总节点数（单个tree）：",function calcTotal(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=function rec(n){return n>=0?e*Math.pow(t,n--)+rec(n):0};return o(n+1)}());(function generateData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];function _loop(n,r,i){for(var c=r||"0",a=i||o,l=[],s=0;s<e;s++){var u="".concat(c,"-").concat(s);a.push({"title":"".concat(u,"-label"),"key":"".concat(u,"-key")}),s<t&&l.push(u)}if(n<0)return a;var d=n-1;return l.forEach((function(e,t){return a[t].children=[],_loop(d,e,a[t].children)})),null}return _loop(n),o})();function loopData(e,t){!function loop(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e.forEach((function(e,o){var r="".concat(n,"-").concat(o);e.children&&loop(e.children,r),t(e,o,r)}))}(e)}function spl(e){return e.split("-")}function splitLen(e){return e.split("-").length}var d=n(432),f=(n(520),n(18)),b=["children"];t.a=function DepsModel(e){var t=e.onInit,n=e.setShow,j=e.modelFun,h=Object(l.useState)([]),p=Object(a.a)(h,2),g=p[0],O=p[1],v=Object(l.useState)([]),m=Object(a.a)(v,2),C=m[0],x=m[1],S=Object(l.useState)([]),y=Object(a.a)(S,2),w=y[0],k=y[1],F=Object(l.useMemo)((function(){if(!e.initValue)return[];var t=e.initValue;return"object"===Object(c.a)(t)?null!=t&&t.value?null==t?void 0:t.value:t.map((function(e){return e.value||e})):t}),[e.initValue]);Object(l.useEffect)((function(){t&&t({"onCancel":function onCancel(){return n(!1)}})}),[]),Object(l.useEffect)((function(){j.setLoading(!0),d.a.post("rs/corp/department/get_department_tree",{}).then((function(e){k(e.resultObject?e.resultObject.children:[]),j.setLoading(!1)})).catch((function(e){j.setLoading(!1)}))}),[]);return Object(f.jsxs)("div",{"className":"depmodel-out","children":[Object(f.jsx)("div",{"className":"depmodel-header","children":"选择部门"}),Object(f.jsx)(s.ScrollView,{"className":"depmodel-main","scrollY":!0,"children":Object(f.jsx)(u.a,{"fieldNames":{"children":"children","title":"name","key":"key"},"onSelect":function onRbSelect(e,t){console.log("selectedKeys, info",e,t);var n=e;t.selected&&(n=function getRadioSelectKeys(e,t,n){var o=[],r=[],i=[];loopData(e,(function(e,o,c){t.indexOf(e.key)>-1&&r.push([c,e.key]),n&&n===e.key&&i.push(c,e.key)}));var c={},a=function getPosKey(e,t){var n=splitLen(e);c[n]?c[n].forEach((function(o,r){!function isSibling(e,t){return e.pop(),t.pop(),e.join(",")===t.join(",")}(spl(o[0]),spl(e))?spl(o[0])!==spl(e)&&c[n].push([e,t]):c[n][r]=[e,t]})):c[n]=[[e,t]]};return r.forEach((function(e){a(e[0],e[1])})),n&&a(i[0],i[1]),Object.keys(c).forEach((function(e){c[e].forEach((function(e){-1===o.indexOf(e[1])&&o.push(e[1])}))})),o}(w,e,t.node.props.eventKey)),O(n),x((t.selectedNodes||[]).map((function(e){e.children;var t=Object(i.a)(e,b);return Object(r.a)({},t)})))},"prefixCls":"hr-tree","defaultCheckedKeys":F,"defaultSelectedKeys":F,"defaultExpandedKeys":F,"treeData":w,"switcherIcon":function switcherIcon(e){if(!e.isLeaf)return Object(f.jsx)(o.b,{"name":"right","classPrefix":"page-icon","size":25})},"icon":function icon(e){var t;return null!=e&&null!==(t=e.data)&&void 0!==t&&t.children?Object(f.jsx)(o.b,{"classPrefix":"page-icon","name":"deps","size":32,"color":"rgba(48, 102, 255)"}):Object(f.jsx)(o.b,{"classPrefix":"page-icon","name":"dep5","size":35,"color":"rgba(0, 164, 99,0.8)"})}})}),Object(f.jsx)("div",{"className":"depmodel-bottom","onClick":function onClick(){return function onConfirm(){e.onConfirm&&e.onConfirm(g,C),n(!1)}()},"children":"确定"})]})}},"526":function(e,t,n){"use strict";var o,r,i,c,a,l,s=n(57),u=n(4),d=n(3),f=(n(9),n(58)),b=(n(140),n(8)),j=n(428),h=n.n(j),p=n(431),g=n(7),O=n(432),v=function getRegisterConifg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return O.a.post("rs/corp/staffregconfig/get_dto_by_id",Object(g.a)({},e))},m=(o=Object(u.a)((function RegisterConifgBaseModel(){Object(d.a)(this,RegisterConifgBaseModel),Object(s.a)(this,"atom",r,this),Object(s.a)(this,"refAtom",i,this),Object(s.a)(this,"fieldsConfigDto",c,this),Object(s.a)(this,"archivesConfig",a,this),Object(s.a)(this,"getConfig",l,this)})),r=Object(f.a)(o.prototype,"atom",[b.m],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return{}}}),i=Object(f.a)(o.prototype,"refAtom",[b.m],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return{}}}),c=Object(f.a)(o.prototype,"fieldsConfigDto",[b.m],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return[]}}),a=Object(f.a)(o.prototype,"archivesConfig",[b.m],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return[]}}),l=Object(f.a)(o.prototype,"getConfig",[b.f],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;h.a.get();v(t).then((function(t){var r=t.resultObject||{},i=r.archivesConfig,c=r.atom,a=r.fieldsConfigDto,l=r.refAtom;e.archivesConfig=Object(p.a)(h.a.get((i||[])[0],"corpStaffRegFieldsDetailsList"),o),e.atom=c||{},e.fieldsConfigDto=Object(p.a)(a||[],n),e.refAtom=l||{}}))}}}),o);t.a=m},"857":function(e,t,n){e.exports={"themeColor":"#2DC09B","themeTextColor":"#00A6A7","backgroundColor":"#F2F4F6","textColor":"rgba(0, 0, 0, 0.9)","btnBackgroundColor":"#F6F6F7","textColorDesc":"rgba(0, 0, 0, 0.3)","textColorSub":"rgba(37, 43, 52, 0.5)","textColorErr":"#FB5151"}},"930":function(e,t,n){"use strict";n.r(t);var o,r,i,c,a,l=n(15),s=n(2),u=n.n(s),d=n(29),f=n(141),b=n(35),j=n(37),h=n(428),p=n.n(h),g=n(512),O=n(525),v=n(7),m=n(57),C=n(4),x=n(3),S=n(9),y=n(58),w=(n(140),n(8)),k=n(526),F=(o=Object(C.a)((function BaseModel(){Object(x.a)(this,BaseModel),Object(m.a)(this,"name",r,this),Object(m.a)(this,"depModelShow",i,this),Object(m.a)(this,"initValues",c,this),Object(S.a)(this,"configBaseModel",new k.a),Object(m.a)(this,"setModelShow",a,this)})),r=Object(y.a)(o.prototype,"name",[w.m],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return""}}),i=Object(y.a)(o.prototype,"depModelShow",[w.m],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return!1}}),c=Object(y.a)(o.prototype,"initValues",[w.m],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){return{}}}),a=Object(y.a)(o.prototype,"setModelShow",[w.f],{"configurable":!0,"enumerable":!0,"writable":!0,"initializer":function initializer(){var e=this;return function(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[void 0,void 0];["dep"].includes(t)&&(e["".concat(t,"ModelShow")]=n,n&&(e.initValues=Object(v.a)(Object(v.a)({},e.initValues),{},{"dep":o}),console.log("设置了")))}}}),o),B=(n(857),n(18));t.default=u.a.memo(Object(f.d)((function StaffOperate(e){var t=Object(d.d)((function(){return new F})),n=(t.configBaseModel,t.depModelShow),o=t.setModelShow,r=t.initValues,i=b.default.useRouter(),c=Object(s.useRef)(null);Object(s.useEffect)((function(){console.log("初始化")}),[i]);var a=Object(s.useMemo)((function(){return Object(g.a)(O.a,{"isBtnHide":!0,"position":"center"})}),[]);return Object(B.jsxs)(B.Fragment,{"children":[Object(B.jsxs)("div",{"className":"operate-staff","children":[Object(B.jsx)("div",{"className":"operate-swiper","children":Object(B.jsx)(j.ScrollView,{"className":"operate-swiper-nostep-item","scrollY":!0,"children":"121212"})}),Object(B.jsx)("div",{"className":"operate-staff-btm","children":Object(B.jsx)("div",{"className":"operate-staff-btm-btn  operate-staff-btm-btn-full item-tap","onClick":function onClick(){return function toSubmit(){var e=p.a.get(c,"current.formRef.current");console.log("fileRef",null==e?void 0:e.getFieldsValue())}()},"children":"提交"})})]}),a({"show":n,"setShow":function setShow(e){return o("dep",e)},"onConfirm":function onDepsConfirm(e,t){var n=(null==r?void 0:r.dep)||[],o=Object(l.a)(n,1)[0];o&&b.default.eventCenter.trigger(o,o,e,t)},"initValue":null!=r&&r.dep?null==r?void 0:r.dep[1]:void 0})]})})))}}]);